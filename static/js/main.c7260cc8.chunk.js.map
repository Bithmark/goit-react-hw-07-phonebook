{"version":3,"sources":["components/PhoneBookForm/PhoneBookForm.module.css","components/PhoneBookListItem/PhoneBookListItem.module.css","components/PhoneBookList/PhoneBookList.module.css","components/PhoneBookFilter/PhonebookFilter.module.css","App.module.css","components/PhoneBookListItem/PhoneBookListItem.jsx","redux/rtk/contacts-api.jsx","redux/phonebook-selectors.jsx","helpers/filterContacts.js","components/PhoneBookList/PhoneBookList.jsx","redux/phonebook-actions.jsx","components/PhoneBookForm/PhoneBookForm.jsx","redux/rtk/filter-contacts.jsx","components/PhoneBookFilter/PhoneBookFilter.jsx","App.js","redux/rtk/rtk-store.jsx","index.js"],"names":["module","exports","PhoneBookListItem","name","number","id","onDeleteContact","className","css","btn","onClick","contactsApi","createApi","reducerPath","tagTypes","baseQuery","fetchBaseQuery","baseUrl","endpoints","builder","getContacts","query","providesTags","addContacts","mutation","contact","url","method","body","invalidatesTags","deleteContacts","contactId","useGetContactsQuery","useAddContactsMutation","useDeleteContactsMutation","getFilter","state","filter","filterContacts","contacts","obj","toLowerCase","includes","trim","PhoneBookList","data","deleteContact","useSelector","ul","map","addContact","createAction","payload","shortId","generate","changeFilter","connect","items","dispatch","onSubmit","actions","useDispatch","useState","setName","setNumber","handleSetUserInfo","e","target","value","form","preventDefault","action","htmlFor","onInput","type","pattern","title","required","handleFilter","createReducer","_","props","filterValue","onSetFilter","App","div","store","configureStore","reducer","middleware","getDefaultMiddleware","setupListeners","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c7260cc8.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"btn\":\"PhoneBookForm_btn__3kfuN\",\"form\":\"PhoneBookForm_form__2Ykfw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btn\":\"PhoneBookListItem_btn__3abD_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ul\":\"PhoneBookList_ul__1eExa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"PhonebookFilter_title__M5sBI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"div\":\"App_div__36iYg\"};","import css from \"./PhoneBookListItem.module.css\";\n\nconst PhoneBookListItem = ({ name, number, id, onDeleteContact }) => {\n  return (\n    <li>\n      <p>\n        {name}: {number}\n      </p>\n      <button className={css.btn} onClick={onDeleteContact} id={id}>\n        Delete\n      </button>\n    </li>\n  );\n};\n\nexport default PhoneBookListItem;\n","import { createApi, fetchBaseQuery } from \"@reduxjs/toolkit/query/react\";\n\nexport const contactsApi = createApi({\n  reducerPath: \"contactsApi\",\n  tagTypes: [\"contacts\"],\n  baseQuery: fetchBaseQuery({\n    baseUrl: \"https://612813d186a213001729f85b.mockapi.io/api/v1/\",\n  }),\n  endpoints: (builder) => ({\n    getContacts: builder.query({\n      query: () => \"/contacts\",\n      providesTags: [\"contacts\"],\n    }),\n    addContacts: builder.mutation({\n      query: (contact) => ({\n        url: \"/contacts\",\n        method: \"POST\",\n        body: { ...contact },\n      }),\n      invalidatesTags: [\"contacts\"],\n    }),\n    deleteContacts: builder.mutation({\n      query: (contactId) => ({\n        url: `/contacts/${contactId}`,\n        method: \"DELETE\",\n      }),\n      invalidatesTags: [\"contacts\"],\n    }),\n  }),\n});\n\nexport const {\n  useGetContactsQuery,\n  useAddContactsMutation,\n  useDeleteContactsMutation,\n} = contactsApi;\n","export const getContacts = (state) => state.contacts;\n\nexport const getFilter = (state) => state.filter;\n","function filterContacts(contacts, filter) {\n  return contacts.filter(obj => {\n    return obj.name.toLowerCase().includes(filter.toLowerCase().trim());\n  });\n}\n\nexport default filterContacts;\n","import { useSelector } from \"react-redux\";\nimport PhoneBookListItem from \"../PhoneBookListItem/PhoneBookListItem\";\nimport css from \"./PhoneBookList.module.css\";\n\nimport {\n  useGetContactsQuery,\n  useDeleteContactsMutation,\n} from \"../../redux/rtk/contacts-api\";\nimport { getFilter } from \"../../redux/phonebook-selectors\";\nimport filterContacts from \"../../helpers/filterContacts\";\n\nconst PhoneBookList = () => {\n  const { data } = useGetContactsQuery();\n\n  const [deleteContact] = useDeleteContactsMutation();\n\n  const filter = useSelector(getFilter);\n\n  return (\n    <ul className={css.ul}>\n      {data &&\n        filterContacts(data, filter).map(({ name, number, id }) => {\n          return (\n            <PhoneBookListItem\n              onDeleteContact={() => deleteContact(id)}\n              key={id}\n              name={name}\n              number={number}\n              id={id}\n            />\n          );\n        })}\n    </ul>\n  );\n};\n\nexport default PhoneBookList;\n","import shortId from \"shortid\";\nimport { createAction } from \"@reduxjs/toolkit\";\n\nconst addContact = createAction(\"contact/add\", ({ name, number }) => {\n  return {\n    payload: {\n      name,\n      number,\n      id: shortId.generate(),\n    },\n  };\n});\n\nconst deleteContact = createAction(\"contact/delete\");\n\nconst changeFilter = createAction(\"contact/filter\");\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default { addContact, deleteContact, changeFilter };\n","import { connect, useDispatch } from \"react-redux\";\nimport css from \"./PhoneBookForm.module.css\";\nimport actions from \"../../redux/phonebook-actions\";\nimport { useState } from \"react\";\nimport { useAddContactsMutation } from \"../../redux/rtk/contacts-api\";\n\nfunction PhoneBookForm({ contacts }) {\n  const dispatch = useDispatch();\n\n  const [name, setName] = useState(\"\");\n  const [number, setNumber] = useState(\"\");\n\n  const [addContact] = useAddContactsMutation();\n\n  const handleSetUserInfo = (e) => {\n    switch (e.target.name) {\n      case \"name\":\n        setName(e.target.value);\n        break;\n\n      case \"number\":\n        setNumber(e.target.value);\n        break;\n\n      default:\n        return;\n    }\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    addContact({ name, number });\n\n    // if (\n    //   contacts.find(\n    //     (contact) => name.toLowerCase() === contact.name.toLowerCase()\n    //   )\n    // ) {\n    //   alert(`${name} is already in contacts.`);\n    //   return;\n    // }\n\n    dispatch(actions.addContact({ name, number }));\n    setName(\"\");\n    setNumber(\"\");\n  };\n\n  return (\n    <form className={css.form} onSubmit={handleSubmit} action=\"\">\n      <label htmlFor=\"\">\n        <p>Name</p>\n        <input\n          onInput={handleSetUserInfo}\n          type=\"text\"\n          name=\"name\"\n          value={name}\n          pattern=\"^[a-zA-Zа-яА-Я]+(([' -][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]*)*$\"\n          title=\"Имя может состоять только из букв, апострофа, тире и пробелов. Например Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan и т. п.\"\n          required\n        />\n      </label>\n      <label htmlFor=\"\">\n        <p>Number</p>\n        <input\n          onInput={handleSetUserInfo}\n          type=\"tel\"\n          name=\"number\"\n          value={number}\n          pattern=\"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}\"\n          title=\"Номер телефона должен состоять цифр и может содержать пробелы, тире, круглые скобки и может начинаться с +\"\n          required\n        />\n      </label>\n      <button className={css.btn}>Add contact</button>\n    </form>\n  );\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    contacts: state.items,\n  };\n};\nconst mapDispatchToProps = (dispatch) => ({\n  onSubmit: ({ name, number }) =>\n    dispatch(actions.addContact({ name, number })),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(PhoneBookForm);\n","import { createReducer, createAction } from \"@reduxjs/toolkit\";\n\nexport const handleFilter = createAction(\"contacts/filterContacts\");\n\nexport const filter = createReducer(\"\", {\n  [handleFilter]: (_, { payload }) => payload,\n});\n","import { connect } from \"react-redux\";\nimport React from \"react\";\nimport css from \"./PhonebookFilter.module.css\";\n\nimport { handleFilter } from \"../../redux/rtk/filter-contacts\";\n\nconst PhonebookFilter = ({ onSetFilter, filterValue }) => {\n  return (\n    <>\n      <label>\n        <p className={css.title}>Find contacts by name</p>\n        <input\n          name=\"filter\"\n          onInput={onSetFilter}\n          type=\"text\"\n          value={filterValue}\n        />\n      </label>\n    </>\n  );\n};\n\nconst mapStateToProps = (state, props) => ({\n  filterValue: state.filter,\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  onSetFilter: (e) => dispatch(handleFilter(e.target.value)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(PhonebookFilter);\n","// import \"./App.css\";\nimport PhoneBookList from \"./components/PhoneBookList/PhoneBookList\";\nimport PhoneBookForm from \"./components/PhoneBookForm/PhoneBookForm\";\nimport PhonebookFilter from \"./components/PhoneBookFilter/PhoneBookFilter\";\nimport css from \"./App.module.css\";\n\nfunction App() {\n  return (\n    <div className={css.div}>\n      {/* <h1>Phonebook</h1> */}\n      <PhoneBookForm />\n      {/* <h2>Contacts</h2> */}\n      <PhonebookFilter />\n      <PhoneBookList />\n    </div>\n  );\n}\n\nexport default App;\n","import { configureStore } from \"@reduxjs/toolkit\";\nimport { contactsApi } from \"./contacts-api\";\nimport { setupListeners } from \"@reduxjs/toolkit/query\";\nimport { filter } from \"./filter-contacts\";\n\nexport const store = configureStore({\n  reducer: {\n    [contactsApi.reducerPath]: contactsApi.reducer,\n    filter,\n  },\n  middleware: (getDefaultMiddleware) => [\n    ...getDefaultMiddleware(),\n    contactsApi.middleware,\n  ],\n});\n\nsetupListeners(store.dispatch);\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport { store } from \"./redux/rtk/rtk-store\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}